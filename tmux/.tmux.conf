################
# Key Bindings #
################
# switch panes using Alt-hjkl without prefix
bind -n M-h select-pane -L
bind -n M-l select-pane -R
bind -n M-k select-pane -U
bind -n M-j select-pane -D

# select or create windows with Alt-N
bind -n M-1 if-shell 'tmux select-window -t :1' '' 'new-window -t :1 -c "#{pane_current_path}"'
bind -n M-2 if-shell 'tmux select-window -t :2' '' 'new-window -t :2 -c "#{pane_current_path}"'
bind -n M-3 if-shell 'tmux select-window -t :3' '' 'new-window -t :3 -c "#{pane_current_path}"'
bind -n M-4 if-shell 'tmux select-window -t :4' '' 'new-window -t :4 -c "#{pane_current_path}"'
bind -n M-5 if-shell 'tmux select-window -t :5' '' 'new-window -t :5 -c "#{pane_current_path}"'
bind -n M-6 if-shell 'tmux select-window -t :6' '' 'new-window -t :6 -c "#{pane_current_path}"'
bind -n M-7 if-shell 'tmux select-window -t :7' '' 'new-window -t :7 -c "#{pane_current_path}"'
bind -n M-8 if-shell 'tmux select-window -t :8' '' 'new-window -t :8 -c "#{pane_current_path}"'
bind -n M-9 if-shell 'tmux select-window -t :9' '' 'new-window -t :9 -c "#{pane_current_path}"'
bind -n M-0 if-shell 'tmux select-window -t :10' '' 'new-window -t :10 -c "#{pane_current_path}"'

# Alt-Tab through windows
bind -n M-Tab last-window

# create new window with Alt-c
bind -n M-c new-window -c "#{pane_current_path}"

# split windows with Alt
bind -n M-d split-window -h -c "#{pane_current_path}"
bind -n M-s split-window -v -c "#{pane_current_path}"

# toggle pane zoom
bind -n M-a resize-pane -Z

# rename window
bind -n M-r command-prompt -I "#W" "rename-window '%%'"

# enter copy mode with Alt-Esc
bind -n M-[ copy-mode
bind -n M-] paste

# more vi-like bindings for copy mode
bind -T copy-mode-vi v send-keys -X begin-selection
bind -T copy-mode-vi y send-keys -X copy-selection
bind -T copy-mode-vi r send-keys -X rectangle-toggle
################

###########
# General #
###########
# Start windows and panes at 1, not 0
set -g base-index 1
setw -g pane-base-index 1

# highlight window on output change
set-window-option -g monitor-activity on

set -g history-limit 30000
set -s escape-time 0

# Add truecolor support
set-option -ga terminal-overrides ",xterm-256color:Tc"
# Default terminal is 256 colors
# set -g default-terminal "screen-256color"

# set styles
set -g status-bg black
set -g status-fg white
set -g window-status-current-style bg=green,fg=black
set -g window-status-activity-style bg=black,fg=red
set -g pane-active-border-style bg=default,fg=red
###########

####################
# Mouse mode v2.1+ #
####################
# Toggle mouse on
bind m \
    set-option -g -q mouse on \;\
    display 'Mouse: ON'

# Toggle mouse off
bind M \
    set-option -g -q mouse off \;\
    display 'Mouse: OFF'
####################

# source ~/.tmux.local if exists
if-shell "test -e ~/.tmux.conf.local" "source-file ~/.tmux.conf.local"
